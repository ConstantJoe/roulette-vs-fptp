<!DOCTYPE html>
<html lang="en">
  <head>   
    <meta charset="utf-8" />   
    <title>Roulette vs. FPTP</title>      
    <script src='/static/Chart.min.js'></script>   
     <link href="/static/css/bootstrap.min.css" rel="stylesheet" media="screen">
    <link href="/static/css/bootstrap-theme.min.css" rel="stylesheet">
    <script src="http://code.jquery.com/jquery-latest.js"></script>
    <script src="/static/js/bootstrap.min.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="/static/css/bootstrap.min.css" rel="stylesheet">
    <link href="/static/css/blog-home.css" rel="stylesheet">
  </head>

  <body>
    <!-- Navigation -->
    <nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
        <div class="container">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="#">Joe Finnegan</a>
            </div>
            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav">
                    <li>
                        <a href="#">Blog</a>
                    </li>
                    <li>
                        <a href="#">Projects</a>
                    </li>
                    <li>
                        <a href="#">LinkedIn</a>
                    </li>
                    <li>
                        <a href="#">Github</a>
                    </li>
                </ul>
            </div>
            <!-- /.navbar-collapse -->
        </div>
        <!-- /.container -->
    </nav>

    <!-- Page Content -->
    <div class="container">

        <!--<div class="row">-->

            <!-- Blog Entries Column -->
            <div class="col-md-12">

                <h1>UK General Elections:</h1>
                <h1>Using a Roulette Wheel to Pick Winners vs. First Past The Post</h1>
    
                <p>Ideally this would not be run till the user presses a button</p>
                <p>Also need to work out percentage error</p>
                <p>Also need a nice blurb about what's going on here</p>
                <p>Maybe put these at the bottom after the big blurb, and tell user to refresh to see a new simulation</p>

                <p>The simulated results use a roulette wheel approach to designate which candidate wins in each constituency.</p>
                <p>What is means is that after all votes are counted, we take out a roulette wheel, then mark out a percentage of the wheel for each candidate depending on how they performed.</p>
                <p>So if the Conservative candidate got 40% of the vote, he's given 40% of the spaces on the wheel, etc. </p>
                <p>Then we spin the wheel, and whoever's spot the ball lands on wins the election and becomes that constituency's MP.</p>
                <p>Is this a good way of running the election? God no! But yet, it consistantly outperforms FPTP in getting closer to the country's popular vote.</p>
                <p>In fact, after running 1,000,000 simulations, the roulette wheel had a %-age error rate of x%, compared to the actual %-age error rate of y given in the actual election. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aliquam erat magna, egestas eu nunc nec, porttitor elementum felis. Vivamus et malesuada mi, ac pharetra nisl. Sed felis ante, tempor sed semper nec, lobortis eget quam. Donec non nibh eu massa condimentum sollicitudin a non mauris. Donec ut erat dui. Nam condimentum nunc risus. In euismod nunc metus, ac laoreet ligula condimentum sit amet. Nulla varius nisl ut ornare vehicula. Integer convallis tortor non ultricies eleifend. Vivamus et erat ac nisl placerat iaculis euismod sit amet ipsum. Quisque metus neque, rhoncus in gravida eget, rhoncus eu nibh. </p>

                <p>So what can we do? We should change the voting system to something like STV, used in Ireland, so the wishes of the people in the country are actually seen in the House of Commons. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aliquam erat magna, egestas eu nunc nec, porttitor elementum felis. Vivamus et malesuada mi, ac pharetra nisl. Sed felis ante, tempor sed semper nec, lobortis eget quam. Donec non nibh eu massa condimentum sollicitudin a non mauris. Donec ut erat dui. Nam condimentum nunc risus. In euismod nunc metus, ac laoreet ligula condimentum sit amet. Nulla varius nisl ut ornare vehicula. Integer convallis tortor non ultricies eleifend. Vivamus et erat ac nisl placerat iaculis euismod sit amet ipsum. Quisque metus neque, rhoncus in gravida eget, rhoncus eu nibh. </p>

                <p>Wanna see a new simulated result? <a href="http://127.0.0.1:5000/projects/roulette/">Refresh</a> the page.</p>

                
                <div class="col-md-6 .text-center">
                  <h2 class="text-center">Populate Vote, by percentage</h2>
                  <canvas id="chartReal" width="600" height="400"></canvas>
                </div>
                <div class="col-md-6">
                  <h2 class="text-center">Actual MPs awarded using FPTP</h2>
                <canvas id="chartActual" width="600" height="400"></canvas>
                </div>

                <div class="col-md-12">
                  <p class="col-md-12">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aliquam erat magna, egestas eu nunc nec, porttitor elementum felis. Vivamus et malesuada mi, ac pharetra nisl. Sed felis ante, tempor sed semper nec, lobortis eget quam. Donec non nibh eu massa condimentum sollicitudin a non mauris. Donec ut erat dui. Nam condimentum nunc risus. In euismod nunc metus, ac laoreet ligula condimentum sit amet. Nulla varius nisl ut ornare vehicula. Integer convallis tortor non ultricies eleifend. Vivamus et erat ac nisl placerat iaculis euismod sit amet ipsum. Quisque metus neque, rhoncus in gravida eget, rhoncus eu nibh. </p>
                  <h2 class="text-center">Simulated Results</h2>
                <canvas class="col-md-6 col-md-offset-3" id="chartSim" width="600" height="400"></canvas>

                <p class="col-md-12">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aliquam erat magna, egestas eu nunc nec, porttitor elementum felis. Vivamus et malesuada mi, ac pharetra nisl. Sed felis ante, tempor sed semper nec, lobortis eget quam. Donec non nibh eu massa condimentum sollicitudin a non mauris. Donec ut erat dui. Nam condimentum nunc risus. In euismod nunc metus, ac laoreet ligula condimentum sit amet. Nulla varius nisl ut ornare vehicula. Integer convallis tortor non ultricies eleifend. Vivamus et erat ac nisl placerat iaculis euismod sit amet ipsum. Quisque metus neque, rhoncus in gravida eget, rhoncus eu nibh.</p>
                </div>

                <script>
        
                  var pieSimulated = [];
                  var pieReal = [];
                  var pieActual = [];

                  {% for itemSim,labelSim,colorsSim, itemReal,labelReal,colorsReal, itemActual,labelActual,colorsActual in set %}
        
                  pieSimulated.push({
                    value: {{itemSim}},
                    label: "{{labelSim}}",
                    color : "{{colorsSim}}"
                  });

                  pieReal.push({
                    value: {{itemReal}},
                    label: "{{labelReal}}",
                    color : "{{colorsReal}}"
                  });

                  pieActual.push({
                    value: {{itemActual}},
                    label: "{{labelActual}}",
                    color : "{{colorsActual}}"
                  });

                  {% endfor %} 

                  new Chart(document.getElementById("chartSim").getContext("2d")).Pie(pieSimulated);
                  new Chart(document.getElementById("chartReal").getContext("2d")).Pie(pieReal);
                  new Chart(document.getElementById("chartActual").getContext("2d")).Pie(pieActual);
 
                </script>
            </div>
    </div>
    <!-- /.container -->

    <!-- jQuery -->
    <script src="js/jquery.js"></script>

    <!-- Bootstrap Core JavaScript -->
    <script src="js/bootstrap.min.js"></script>

    
  </body>
</html>